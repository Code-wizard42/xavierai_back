version: 1

# Build configuration
build:
  commands:
    - pip install -r requirements.txt

# Run configuration  
run:
  command: gunicorn --bind 0.0.0.0:$PORT --workers 2 --threads 4 --timeout 120 app:app

# Health check
health_check:
  path: /health
  interval: 30s
  timeout: 10s
  retries: 3

# Environment
environment:
  - FLASK_ENV=production
  - ENVIRONMENT=production
  - PYTHONPATH=/app

# Resources
resources:
  memory: 512MB
  cpu: 0.5 